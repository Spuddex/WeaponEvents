Only works with qb-core.
Might need to change how the WeaponFired server event is triggered to suit your needs
Right now it is set to IsPedPerformingMeleeAction which will only works for when melee weapons are used
https://docs.fivem.net/natives/?_0xDCCA191DF9980FD7
